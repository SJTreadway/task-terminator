div.container
  h3.text-center {{company.name}}
  form.tab-form-demo(name='outerForm')
    uib-tabset
      uib-tab(heading='Happens Once')
        ng-form(name='nestedForm')
        .form-group
          label(for="addProjectField")
            | Project Name: 
          input.form-control(type="text" ng-model="name" id="addProjectField")
        .form-group
          label(for="descriptionField")
            | Description:
          input.form-control(type="text" ng-model="description")
        .form-group
          label(for="startField")
            | Start Date:
            p.input-group
              input.form-control(type="text" uib-datepicker-popup="{{format}}" is-open="popup1.opened" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" ng-model="startDate")
              span.input-group-btn
                button.btn.btn-default(type="button" ng-click="open1()")
                  i.glyphicon.glyphicon-calendar
        .form-group
          label(for="actualDateField")
            | Due Date:  
            p.input-group
              input.form-control(type="text" uib-datepicker-popup="{{format}}" is-open="popup2.opened" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" ng-model="actualDate")
              span.input-group-btn
                button.btn.btn-default(type="button" ng-click="open2()")
                  i.glyphicon.glyphicon-calendar
        button.btn.btn-success(type="button" ng-click="addTemplate(newTemplate)") Add Tasks
        uib-alert(ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)" dismiss-on-timeout="3500") {{alert.msg}}

        .container-fluid(style="padding-top: 20px;" ng-if="showTheRest")
          .row
            .col-sm-8
              form
                .form-group
                  button.btn.btn-danger(type="button" ng-click="showTaskBox = !showTaskBox")
                    span(type="text" ng-if="!showTaskBox") Add New Task
                    span(type="text" ng-if="showTaskBox") Cancel Task
                  div.animate-if(ng-if="showTaskBox")
                    label(for="taskName")
                      | Task Name:
                    input.form-control(type="text" ng-model="newTask.name" id="taskName")
                    label(for="taskDesc")
                      | Task Description:
                    input.form-control(type="text" ng-model="newTask.description" id="taskDesc")
                    label(for="taskAssign")
                      | Assign To:
                    select.form-control(ng-model="selectedAssign" ng-options="k as k for (k,v) in newTask.assignment" id="assignField")

                    select.form-control(ng-show="selectedAssign==='departments'" ng-model="newTask.assignment.department" ng-options="department as department.name for department in company.departments" id="valField")

                    select.form-control(ng-show="selectedAssign==='positions'" ng-model="newTask.assignment.position" ng-options="position as position.name for position in company.positions" id="valField")

                    select.form-control(ng-show="selectedAssign==='employees'" ng-model="newTask.assignment.employee" ng-options="employee as employee.identification.name.fullName for employee in company.employees" id="valField")

                    button.btn.btn-success(type="button" ng-click="saveTask(newTask)") Save Task
                  .form-group
                    label(for="tasksField")
                      | Tasks: 
                      div
                        ul
                          li(ng-repeat="task in newTasksArr") {{task.name}} ({{task.description}}): {{task.assignment.department.name}}{{task.assignment.position.name}}{{task.assignment.employee.identification.name.fullName}}
                  button.btn.btn-danger(type="button" ng-click="addTasks(newTasksArr)") Submit Tasks to Project


      uib-tab(heading='Happens More Than Once')
        ng-form(name='nestedForm')
        .form-group
          label(for="addProjectField")
            | Project Name: 
          input.form-control(type="text" ng-model="newTemplate.name" id="addProjectField")
        .form-group
          label(for="descriptionField")
            | Description:
          input.form-control(type="text")
        button.btn.btn-success(type="button" ng-click="addTemplate(newTemplate)") Add Tasks
        uib-alert(ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)" dismiss-on-timeout="3500") {{alert.msg}}

        .container-fluid(style="padding-top: 20px;" ng-if="showTheRest")
          .row
            .col-sm-8
              form
                .form-group
                  button.btn.btn-danger(type="button" ng-click="showTaskBox = !showTaskBox")
                    span(type="text" ng-if="!showTaskBox") Add New Task
                    span(type="text" ng-if="showTaskBox") Cancel Task
                  div.animate-if(ng-if="showTaskBox")
                    label(for="taskName")
                      | Task Name:
                    input.form-control(type="text" ng-model="newTask.name" id="taskName")
                    label(for="taskDesc")
                      | Task Description:
                    input.form-control(type="text" ng-model="newTask.description" id="taskDesc")
                    label(for="taskAssign")
                      | Assign To:
                    select.form-control(ng-model="selectedAssign" ng-options="k as k for (k,v) in newTask.assignment" id="assignField")

                    select.form-control(ng-show="selectedAssign==='departments'" ng-model="newTask.assignment.department" ng-options="department as department.name for department in company.departments" id="valField")

                    select.form-control(ng-show="selectedAssign==='positions'" ng-model="newTask.assignment.position" ng-options="position as position.name for position in company.positions" id="valField")

                    select.form-control(ng-show="selectedAssign==='employees'" ng-model="newTask.assignment.employee" ng-options="employee as employee.identification.name.fullName for employee in company.employees" id="valField")

                    button.btn.btn-success(type="button" ng-click="saveTask(newTask)") Save Task
                  .form-group
                    label(for="tasksField")
                      | Tasks: 
                      div
                        ul
                          li(ng-repeat="task in newTasksArr") {{task.name}} ({{task.description}}): {{task.assignment.department.name}}{{task.assignment.position.name}}{{task.assignment.employee.identification.name.fullName}}
                  button.btn.btn-danger(type="button" ng-click="addTasks(newTasksArr)") Submit Tasks to Project


      uib-tab(heading='Happens On A Set Schedule')
        ng-form(name='nestedForm')
        .form-group
          label(for="addProjectField")
            | Project Name: 
          input.form-control(type="text" ng-model="name" id="addProjectField")
        .form-group
          label(for="descriptionField")
            | Description:
          input.form-control(type="text")
        button.btn.btn-success(type="button" ng-click="addTemplate()") Add Tasks
        uib-alert(ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)" dismiss-on-timeout="3500") {{alert.msg}}


        .container-fluid(style="padding-top: 20px;" ng-if="showTheRest")
          .row
            .col-sm-8
              form
                .form-group
                  button.btn.btn-danger(type="button" ng-click="showTaskBox = !showTaskBox")
                    span(type="text" ng-if="!showTaskBox") Add New Task
                    span(type="text" ng-if="showTaskBox") Cancel Task
                  div.animate-if(ng-if="showTaskBox")
                    label(for="taskName")
                      | Task Name:
                    input.form-control(type="text" ng-model="newTask.name" id="taskName")
                    label(for="taskDesc")
                      | Task Description:
                    input.form-control(type="text" ng-model="newTask.description" id="taskDesc")
                    label(for="taskAssign")
                      | Assign To:
                    select.form-control(ng-model="selectedAssign" ng-options="k as k for (k,v) in newTask.assignment" id="assignField")

                    select.form-control(ng-show="selectedAssign==='departments'" ng-model="newTask.assignment.department" ng-options="department as department.name for department in company.departments" id="valField")

                    select.form-control(ng-show="selectedAssign==='positions'" ng-model="newTask.assignment.position" ng-options="position as position.name for position in company.positions" id="valField")

                    select.form-control(ng-show="selectedAssign==='employees'" ng-model="newTask.assignment.employee" ng-options="employee as employee.identification.name.fullName for employee in company.employees" id="valField")

                    button.btn.btn-success(type="button" ng-click="saveTask(newTask)") Save Task
                  .form-group
                    label(for="tasksField")
                      | Tasks: 
                      div
                        ul
                          li(ng-repeat="task in newTasksArr") {{task.name}} ({{task.description}}): {{task.assignment.department.name}}{{task.assignment.position.name}}{{task.assignment.employee.identification.name.fullName}}
                  button.btn.btn-danger(type="button" ng-click="addTasks(newTasksArr)") Submit Tasks to Project
