'use strict';

angular.module('terminatorApp').controller('NewSingleProjectCtrl', function ($scope, $state, ProjectsSvc) {

	$scope.test = "The new single project ctrl is working!";

	$scope.newSingleProject = {
		setup: {
			type: "Single"
		}
	};

	$scope.addSingleProject = function (newSingleProject) {
		console.log("This is what I'm sending", newSingleProject);
		ProjectsSvc.postSingleProject(newSingleProject).then(function (results) {
			console.log("New Single Project added", results);
			$scope.templateID = results.data._id;
			console.log($scope.templateID);
			$state.go('dashboard.projectView', { id: results.data._id });
		}).catch(function (err) {
			console.log("Error", err);
		});
	};

	/////////////////////
	//Date Picker
	/////////////////////

	$scope.today = function () {
		$scope.dt = new Date();
	};
	$scope.today();

	$scope.clear = function () {
		$scope.dt = null;
	};

	// Disable weekend selection
	$scope.disabled = function (date, mode) {
		return mode === 'day' && (date.getDay() === 0 || date.getDay() === 6);
	};

	$scope.toggleMin = function () {
		$scope.minDate = $scope.minDate ? null : new Date();
	};

	$scope.toggleMin();
	$scope.maxDate = new Date(2020, 5, 22);

	$scope.open1 = function (event) {
		console.log(event);
		$scope.popup1.opened = true;
	};

	$scope.open2 = function () {
		$scope.popup2.opened = true;
	};

	$scope.open3 = function () {
		$scope.popup3.opened = true;
	};

	$scope.setDate = function (year, month, day) {
		$scope.dt = new Date(year, month, day);
	};

	$scope.dateOptions = {
		formatYear: 'yy',
		startingDay: 1
	};

	$scope.formats = ['dd-MMMM-yyyy', 'yyyy/MM/dd', 'dd.MM.yyyy', 'shortDate'];
	$scope.format = $scope.formats[0];
	$scope.altInputFormats = ['M!/d!/yyyy'];

	$scope.popup1 = {
		opened: false
	};

	$scope.popup2 = {
		opened: false
	};

	$scope.popup3 = {
		opened: false
	};

	var tomorrow = new Date();
	tomorrow.setDate(tomorrow.getDate() + 1);
	var afterTomorrow = new Date();
	afterTomorrow.setDate(tomorrow.getDate() + 1);
	$scope.events = [{
		date: tomorrow,
		status: 'full'
	}, {
		date: afterTomorrow,
		status: 'partially'
	}];

	$scope.getDayClass = function (date, mode) {
		if (mode === 'day') {
			var dayToCheck = new Date(date).setHours(0, 0, 0, 0);

			for (var i = 0; i < $scope.events.length; i++) {
				var currentDay = new Date($scope.events[i].date).setHours(0, 0, 0, 0);

				if (dayToCheck === currentDay) {
					return $scope.events[i].status;
				}
			}
		}

		return '';
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1YmxpYy9jb250cm9sbGVycy9OZXdTaW5nbGVQcm9qZWN0Q3RybC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLFFBQVEsTUFBUixDQUFlLGVBQWYsRUFBZ0MsVUFBaEMsQ0FBMkMsc0JBQTNDLEVBQW1FLFVBQVMsTUFBVCxFQUFpQixNQUFqQixFQUF5QixXQUF6QixFQUFzQzs7QUFHeEcsUUFBTyxJQUFQLEdBQWMseUNBQWQsQ0FId0c7O0FBS3hHLFFBQU8sZ0JBQVAsR0FBMEI7QUFDekIsU0FBTztBQUNOLFNBQU0sUUFBTjtHQUREO0VBREQsQ0FMd0c7O0FBV3hHLFFBQU8sZ0JBQVAsR0FBMEIsVUFBVSxnQkFBVixFQUE0QjtBQUNyRCxVQUFRLEdBQVIsQ0FBWSwwQkFBWixFQUF3QyxnQkFBeEMsRUFEcUQ7QUFFckQsY0FBWSxpQkFBWixDQUE4QixnQkFBOUIsRUFBZ0QsSUFBaEQsQ0FBcUQsVUFBUyxPQUFULEVBQWtCO0FBQ3RFLFdBQVEsR0FBUixDQUFZLDBCQUFaLEVBQXdDLE9BQXhDLEVBRHNFO0FBRXRFLFVBQU8sVUFBUCxHQUFvQixRQUFRLElBQVIsQ0FBYSxHQUFiLENBRmtEO0FBR3RFLFdBQVEsR0FBUixDQUFZLE9BQU8sVUFBUCxDQUFaLENBSHNFO0FBSXRFLFVBQU8sRUFBUCxDQUFVLHVCQUFWLEVBQW1DLEVBQUMsSUFBSSxRQUFRLElBQVIsQ0FBYSxHQUFiLEVBQXhDLEVBSnNFO0dBQWxCLENBQXJELENBS0csS0FMSCxDQUtTLFVBQVMsR0FBVCxFQUFjO0FBQ3RCLFdBQVEsR0FBUixDQUFZLE9BQVosRUFBcUIsR0FBckIsRUFEc0I7R0FBZCxDQUxULENBRnFEO0VBQTVCOzs7Ozs7QUFYOEUsT0E2QnhHLENBQU8sS0FBUCxHQUFlLFlBQVc7QUFDdEIsU0FBTyxFQUFQLEdBQVksSUFBSSxJQUFKLEVBQVosQ0FEc0I7RUFBWCxDQTdCeUY7QUFnQ3hHLFFBQU8sS0FBUCxHQWhDd0c7O0FBa0N4RyxRQUFPLEtBQVAsR0FBZSxZ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LE1BQVAsQ0FBYyxNQUFkLEVBQXNCLEdBQTFDLEVBQStDO0FBQzdDLFFBQUksYUFBYSxJQUFJLElBQUosQ0FBUyxPQUFPLE1BQVAsQ0FBYyxDQUFkLEVBQWlCLElBQWpCLENBQVQsQ0FBZ0MsUUFBaEMsQ0FBeUMsQ0FBekMsRUFBMkMsQ0FBM0MsRUFBNkMsQ0FBN0MsRUFBK0MsQ0FBL0MsQ0FBYixDQUR5Qzs7QUFHN0MsUUFBSSxlQUFlLFVBQWYsRUFBMkI7QUFDN0IsWUFBTyxPQUFPLE1BQVAsQ0FBYyxDQUFkLEVBQWlCLE1BQWpCLENBRHNCO0tBQS9CO0lBSEY7R0FIRjs7QUFZQSxTQUFPLEVBQVAsQ0Fic0M7RUFBckIsQ0F6R21GO0NBQXRDLENBQW5FIiwiZmlsZSI6InB1YmxpYy9jb250cm9sbGVycy9OZXdTaW5nbGVQcm9qZWN0Q3RybC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCd0ZXJtaW5hdG9yQXBwJykuY29udHJvbGxlcignTmV3U2luZ2xlUHJvamVjdEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgUHJvamVjdHNTdmMpIHtcclxuXHJcblxyXG5cdCRzY29wZS50ZXN0ID0gXCJUaGUgbmV3IHNpbmdsZSBwcm9qZWN0IGN0cmwgaXMgd29ya2luZyFcIjtcclxuXHJcblx0JHNjb3BlLm5ld1NpbmdsZVByb2plY3QgPSB7XHJcblx0XHRzZXR1cDoge1xyXG5cdFx0XHR0eXBlOiBcIlNpbmdsZVwiXHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0JHNjb3BlLmFkZFNpbmdsZVByb2plY3QgPSBmdW5jdGlvbiAobmV3U2luZ2xlUHJvamVjdCkge1xyXG5cdFx0Y29uc29sZS5sb2coXCJUaGlzIGlzIHdoYXQgSSdtIHNlbmRpbmdcIiwgbmV3U2luZ2xlUHJvamVjdCk7XHJcblx0XHRQcm9qZWN0c1N2Yy5wb3N0U2luZ2xlUHJvamVjdChuZXdTaW5nbGVQcm9qZWN0KS50aGVuKGZ1bmN0aW9uKHJlc3VsdHMpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCJOZXcgU2luZ2xlIFByb2plY3QgYWRkZWRcIiwgcmVzdWx0cyk7XHJcblx0XHRcdCRzY29wZS50ZW1wbGF0ZUlEID0gcmVzdWx0cy5kYXRhLl9pZDtcclxuXHRcdFx0Y29uc29sZS5sb2coJHNjb3BlLnRlbXBsYXRlSUQpO1xyXG5cdFx0XHQkc3RhdGUuZ28oJ2Rhc2hib2FyZC5wcm9qZWN0VmlldycsIHtpZDogcmVzdWx0cy5kYXRhLl9pZH0pO1xyXG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiRXJyb3JcIiwgZXJyKTtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cclxuXHJcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0Ly9EYXRlIFBpY2tlclxyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHQkc2NvcGUudG9kYXkgPSBmdW5jdGlvbigpIHtcclxuXHQgICAgJHNjb3BlLmR0ID0gbmV3IERhdGUoKTtcclxuXHR9O1xyXG5cdCRzY29wZS50b2RheSgpO1xyXG5cclxuXHQkc2NvcGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcclxuXHQgICAgJHNjb3BlLmR0ID0gbnVsbDtcclxuXHR9O1xyXG5cclxuXHQvLyBEaXNhYmxlIHdlZWtlbmQgc2VsZWN0aW9uXHJcblx0JHNjb3BlLmRpc2FibGVkID0gZnVuY3Rpb24oZGF0ZSwgbW9kZSkge1xyXG5cdCAgICByZXR1cm4gbW9kZSA9PT0gJ2RheScgJiYgKGRhdGUuZ2V0RGF5KCkgPT09IDAgfHwgZGF0ZS5nZXREYXkoKSA9PT0gNik7XHJcblx0fTtcclxuXHJcblx0JHNjb3BlLnRvZ2dsZU1pbiA9IGZ1bmN0aW9uKCkge1xyXG5cdCAgICAkc2NvcGUubWluRGF0ZSA9ICRzY29wZS5taW5EYXRlID8gbnVsbCA6IG5ldyBEYXRlKCk7XHJcblx0fTtcclxuXHJcblx0JHNjb3BlLnRvZ2dsZU1pbigpO1xyXG5cdCRzY29wZS5tYXhEYXRlID0gbmV3IERhdGUoMjAyMCwgNSwgMjIpO1xyXG5cclxuXHQkc2NvcGUub3BlbjEgPSBmdW5jdGlvbihldmVudCkge1xyXG5cdCAgICBjb25zb2xlLmxvZyhldmVudCk7XHJcblx0ICAgICRzY29wZS5wb3B1cDEub3BlbmVkID0gdHJ1ZTtcclxuXHR9O1xyXG5cclxuXHQkc2NvcGUub3BlbjIgPSBmdW5jdGlvbigpIHtcclxuXHQgICAgJHNjb3BlLnBvcHVwMi5vcGVuZWQgPSB0cnVlO1xyXG5cdH07XHJcblxyXG5cdCRzY29wZS5vcGVuMyA9IGZ1bmN0aW9uKCkge1xyXG5cdCAgICAkc2NvcGUucG9wdXAzLm9wZW5lZCA9IHRydWU7XHJcblx0fTtcclxuXHJcblx0JHNjb3BlLnNldERhdGUgPSBmdW5jdGlvbih5ZWFyLCBtb250aCwgZGF5KSB7XHJcblx0ICAgICRzY29wZS5kdCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpO1xyXG5cdH07XHJcblxyXG5cdCRzY29wZS5kYXRlT3B0aW9ucyA9IHtcclxuXHQgICAgZm9ybWF0WWVhcjogJ3l5JyxcclxuXHQgICAgc3RhcnRpbmdEYXk6IDFcclxuXHR9O1xyXG5cclxuXHQkc2NvcGUuZm9ybWF0cyA9IFsnZGQtTU1NTS15eXl5JywgJ3l5eXkvTU0vZGQnLCAnZGQuTU0ueXl5eScsICdzaG9ydERhdGUnXTtcclxuXHQkc2NvcGUuZm9ybWF0ID0gJHNjb3BlLmZvcm1hdHNbMF07XHJcblx0JHNjb3BlLmFsdElucHV0Rm9ybWF0cyA9IFsnTSEvZCEveXl5eSddO1xyXG5cclxuXHJcblx0JHNjb3BlLnBvcHVwMSA9IHtcclxuXHQgICAgb3BlbmVkOiBmYWxzZVxyXG5cdH07XHJcblxyXG5cdCRzY29wZS5wb3B1cDIgPSB7XHJcblx0ICAgIG9wZW5lZDogZmFsc2VcclxuXHR9O1xyXG5cclxuXHQkc2NvcGUucG9wdXAzID0ge1xyXG5cdCAgICBvcGVuZWQ6IGZhbHNlXHJcblx0fTtcclxuXHJcblx0dmFyIHRvbW9ycm93ID0gbmV3IERhdGUoKTtcclxuXHR0b21vcnJvdy5zZXREYXRlKHRvbW9ycm93LmdldERhdGUoKSArIDEpO1xyXG5cdHZhciBhZnRlclRvbW9ycm93ID0gbmV3IERhdGUoKTtcclxuXHRhZnRlclRvbW9ycm93LnNldERhdGUodG9tb3Jyb3cuZ2V0RGF0ZSgpICsgMSk7XHJcblx0JHNjb3BlLmV2ZW50cyA9XHJcblx0ICAgIFtcclxuXHQgICAgICB7XHJcblx0ICAgICAgICBkYXRlOiB0b21vcnJvdyxcclxuXHQgICAgICAgIHN0YXR1czogJ2Z1bGwnXHJcblx0ICAgICAgfSxcclxuXHQgICAgICB7XHJcblx0ICAgICAgICBkYXRlOiBhZnRlclRvbW9ycm93LFxyXG5cdCAgICAgICAgc3RhdHVzOiAncGFydGlhbGx5J1xyXG5cdCAgICAgIH1cclxuXHQgICAgXTtcclxuXHJcblx0JHNjb3BlLmdldERheUNsYXNzID0gZnVuY3Rpb24oZGF0ZSwgbW9kZSkge1xyXG5cdCAgICBpZiAobW9kZSA9PT0gJ2RheScpIHtcclxuXHQgICAgICB2YXIgZGF5VG9DaGVjayA9IG5ldyBEYXRlKGRhdGUpLnNldEhvdXJzKDAsMCwwLDApO1xyXG5cclxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5ldmVudHMubGVuZ3RoOyBpKyspIHtcclxuXHQgICAgICAgIHZhciBjdXJyZW50RGF5ID0gbmV3IERhdGUoJHNjb3BlLmV2ZW50c1tpXS5kYXRlKS5zZXRIb3VycygwLDAsMCwwKTtcclxuXHJcblx0ICAgICAgICBpZiAoZGF5VG9DaGVjayA9PT0gY3VycmVudERheSkge1xyXG5cdCAgICAgICAgICByZXR1cm4gJHNjb3BlLmV2ZW50c1tpXS5zdGF0dXM7XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgfVxyXG5cdCAgICB9XHJcblxyXG5cdCAgICByZXR1cm4gJyc7XHJcblx0fTtcclxuXHJcbn0pO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
