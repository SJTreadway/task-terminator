'use strict';

var mongoose = require('mongoose');
var Employee = require('../models/Employee.js');
var Company = require('../models/Company');
var Department = require('../models/Department.js');
var Position = require('../models/Position.js');

module.exports = {
  newEmployee: function newEmployee(req, res) {
    console.log("POST - ADD EMPLOYEE ENDPOINT", req.body);
    var newEmployee = new Employee(req.body);
    Company.findOne({
      _id: req.params.companyid
    }).exec().then(function (result) {
      console.log(result);
      result.employees.push(newEmployee._id);
      result.save();
    });
    Department.findOne({
      _id: req.params.departmentid
    }).exec().then(function (result) {
      console.log(result);
      result.employees.push(newEmployee._id);
      result.save();
    });
    Position.findOne({
      _id: req.params.positionid
    }).exec().then(function (result) {
      console.log(result);
      result.employees.push(newEmployee._id);
      result.save();
    });
    newEmployee.company = req.params.companyid;
    newEmployee.departments = req.params.departmentid;
    newEmployee.positions = req.params.positionid;
    newEmployee.identification.name.fullName = req.body.identification.name.firstName + " " + req.body.identification.name.lastName;
    newEmployee.save().then(function (result) {
      return res.json(result);
    }).catch(function (err) {
      return res.status(500).end();
    });
  },
  oneEmployee: function oneEmployee(req, res) {
    console.log("GET - EMPLOYEE ID: ", req.params.id);
    Employee.findById(req.params.id).exec().then(function (employee) {
      return res.json(employee);
    }).catch(function (err) {
      return res.status(500).end();
    });
  },
  editEmployee: function editEmployee(req, res) {
    console.log("EDIT - EMPLOYEE ID: ", req.params.id);
    Employee.update({
      _id: req.params.id
    }, req.body).then(function () {
      return res.status(200).end();
    }).catch(function (err) {
      return res.status(500).end();
    });
  },
  deleteEmployee: function deleteEmployee(req, res) {
    console.log("DELETE - EMPLOYEE ID: ", req.params.id);
    Employee.remove({
      _id: req.params.id
    }, req.body).then(function () {
      return res.status(200).end();
    }).catch(function (err) {
      return res.status(500).end();
    });
  },

  // allEmployees(req, res) {
  //   console.log('GET - ALL EMPLOYEES ENDPOINT');
  //   Company
  //     .findOne({
  //       _id: req.params.companyid
  //     })
  //     .populate('employees')
  //     .exec(function(err, company) {
  //       console.log('COMPANY FOUND:', company);
  //       Employee.populate 
  //     }
  //   }

  allEmployees: function allEmployees(req, res) {
    console.log('GET - ALL EMPLOYEES ENDPOINT');

    var options = {
      path: 'employees',
      model: 'Employee',
      populate: [{
        path: 'departments',
        model: 'Department',
        select: 'name'
      }, {
        path: 'positions',
        model: 'Position',
        select: 'name'
      }]
    };
    console.log('options for populate', options);
    console.log();
    Company.findOne({
      _id: req.params.companyid
    }).select('employees').populate(options).exec().then(function (company) {
      res.status(200).json(company.employees);
    }).catch(function (e) {
      console.log("MONGOOSE ERROR >>>", e.message);
      res.status(500).json(e);
    });
  }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlcl9hc3NldHMvY29udHJvbGxlcnMvZW1wbG95ZWVDdHJsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxXQUFXLFFBQVEsVUFBUixDQUFYO0FBQ04sSUFBTSxXQUFXLFFBQVEsdUJBQVIsQ0FBWDtBQUNOLElBQU0sVUFBVSxRQUFRLG1CQUFSLENBQVY7QUFDTixJQUFNLGFBQWEsUUFBUSx5QkFBUixDQUFiO0FBQ04sSUFBTSxXQUFXLFFBQVEsdUJBQVIsQ0FBWDs7QUFFTixPQUFPLE9BQVAsR0FBaUI7QUFFZixvQ0FBWSxLQUFLLEtBQUs7QUFDcEIsWUFBUSxHQUFSLENBQVksOEJBQVosRUFBNEMsSUFBSSxJQUFKLENBQTVDLENBRG9CO0FBRXBCLFFBQU0sY0FBYyxJQUFJLFFBQUosQ0FBYSxJQUFJLElBQUosQ0FBM0IsQ0FGYztBQUdwQixZQUNPLE9BRFAsQ0FDZTtBQUNQLFdBQUssSUFBSSxNQUFKLENBQVcsU0FBWDtLQUZiLEVBSU8sSUFKUCxHQUtPLElBTFAsQ0FLWSxVQUFTLE1BQVQsRUFBaUI7QUFDckIsY0FBUSxHQUFSLENBQVksTUFBWixFQURxQjtBQUVyQixhQUFPLFNBQVAsQ0FBaUIsSUFBakIsQ0FBc0IsWUFBWSxHQUFaLENBQXRCLENBRnFCO0FBR3JCLGFBQU8sSUFBUCxHQUhxQjtLQUFqQixDQUxaLENBSG9CO0FBYXBCLGVBQ08sT0FEUCxDQUNlO0FBQ1AsV0FBSyxJQUFJLE1BQUosQ0FBVyxZQUFYO0tBRmIsRUFJTyxJQUpQLEdBS08sSUFMUCxDQUtZLFVBQVMsTUFBVCxFQUFpQjtBQUNyQixjQUFRLEdBQVIsQ0FBWSxNQUFaLEVBRHFCO0FBRXJCLGFBQU8sU0FBUCxDQUFpQixJQUFqQixDQUFzQixZQUFZLEdBQVosQ0FBdEIsQ0FGcUI7QUFHckIsYUFBTyxJQUFQLEdBSHFCO0tBQWpCLENBTFosQ0Fib0I7QUF1QnBCLGFBQ08sT0FEUCxDQUNlO0FBQ1AsV0FBSyxJQUFJLE1BQUosQ0FBVyxVQUFYO0tB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LDhCQUFaLEVBRHFCOztBQUdyQixRQUFJLFVBQVU7QUFDWixZQUFNLFdBQU47QUFDQSxhQUFPLFVBQVA7QUFDQSxnQkFBVSxDQUFDO0FBQ1QsY0FBTSxhQUFOO0FBQ0EsZUFBTyxZQUFQO0FBQ0EsZ0JBQVEsTUFBUjtPQUhRLEVBSVI7QUFDQSxjQUFNLFdBQU47QUFDQSxlQUFPLFVBQVA7QUFDQSxnQkFBUSxNQUFSO09BUFEsQ0FBVjtLQUhFLENBSGlCO0FBZ0JyQixZQUFRLEdBQVIsQ0FBWSxzQkFBWixFQUFvQyxPQUFwQyxFQWhCcUI7QUFpQnJCLFlBQVEsR0FBUixHQWpCcUI7QUFrQnJCLFlBQ0csT0FESCxDQUNXO0FBQ1AsV0FBSyxJQUFJLE1BQUosQ0FBVyxTQUFYO0tBRlQsRUFJRyxNQUpILENBSVUsV0FKVixFQUtHLFFBTEgsQ0FLWSxPQUxaLEVBS3FCLElBTHJCLEdBSzRCLElBTDVCLENBS2lDLFVBQVMsT0FBVCxFQUFpQjtBQUM5QyxVQUNHLE1BREgsQ0FDVSxHQURWLEVBRUcsSUFGSCxDQUVRLFFBQVEsU0FBUixDQUZSLENBRDhDO0tBQWpCLENBTGpDLENBU0ssS0FUTCxDQVNXLFVBQVMsQ0FBVCxFQUFXO0FBQ2xCLGNBQVEsR0FBUixDQUFZLG9CQUFaLEVBQWtDLEVBQUUsT0FBRixDQUFsQyxDQURrQjtBQUVsQixVQUNHLE1BREgsQ0FDVSxHQURWLEVBRUcsSUFGSCxDQUVRLENBRlIsRUFGa0I7S0FBWCxDQVRYLENBbEJxQjtHQTFGUjtDQUFqQiIsImZpbGUiOiJzZXJ2ZXJfYXNzZXRzL2NvbnRyb2xsZXJzL2VtcGxveWVlQ3RybC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuY29uc3QgRW1wbG95ZWUgPSByZXF1aXJlKCcuLi9tb2RlbHMvRW1wbG95ZWUuanMnKTtcclxuY29uc3QgQ29tcGFueSA9IHJlcXVpcmUoJy4uL21vZGVscy9Db21wYW55Jyk7XHJcbmNvbnN0IERlcGFydG1lbnQgPSByZXF1aXJlKCcuLi9tb2RlbHMvRGVwYXJ0bWVudC5qcycpO1xyXG5jb25zdCBQb3NpdGlvbiA9IHJlcXVpcmUoJy4uL21vZGVscy9Qb3NpdGlvbi5qcycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblxyXG4gIG5ld0VtcGxveWVlKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlBPU1QgLSBBREQgRU1QTE9ZRUUgRU5EUE9JTlRcIiwgcmVxLmJvZHkpO1xyXG4gICAgY29uc3QgbmV3RW1wbG95ZWUgPSBuZXcgRW1wbG95ZWUocmVxLmJvZHkpO1xyXG4gICAgQ29tcGFueVxyXG4gICAgICAgICAgLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICBfaWQ6IHJlcS5wYXJhbXMuY29tcGFueWlkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmV4ZWMoKVxyXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIHJlc3VsdC5lbXBsb3llZXMucHVzaChuZXdFbXBsb3llZS5faWQpO1xyXG4gICAgICAgICAgICByZXN1bHQuc2F2ZSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICBEZXBhcnRtZW50XHJcbiAgICAgICAgICAuZmluZE9uZSh7XHJcbiAgICAgICAgICAgIF9pZDogcmVxLnBhcmFtcy5kZXBhcnRtZW50aWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuZXhlYygpXHJcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgcmVzdWx0LmVtcGxveWVlcy5wdXNoKG5ld0VtcGxveWVlLl9pZCk7XHJcbiAgICAgICAgICAgIHJlc3VsdC5zYXZlKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgIFBvc2l0aW9uXHJcbiAgICAgICAgICAuZmluZE9uZSh7XHJcbiAgICAgICAgICAgIF9pZDogcmVxLnBhcmFtcy5wb3NpdGlvbmlkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmV4ZWMoKVxyXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIHJlc3VsdC5lbXBsb3llZXMucHVzaChuZXdFbXBsb3llZS5faWQpO1xyXG4gICAgICAgICAgICByZXN1bHQuc2F2ZSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICBuZXdFbXBsb3llZS5jb21wYW55ID0gcmVxLnBhcmFtcy5jb21wYW55aWQ7XHJcbiAgICBuZXdFbXBsb3llZS5kZXBhcnRtZW50cyA9IHJlcS5wYXJhbXMuZGVwYXJ0bWVudGlkO1xyXG4gICAgbmV3RW1wbG95ZWUucG9zaXRpb25zID0gcmVxLnBhcmFtcy5wb3NpdGlvbmlkO1xyXG4gICAgbmV3RW1wbG95ZWUuaWRlbnRpZmljYXRpb24ubmFtZS5mdWxsTmFtZSA9IHJlcS5ib2R5LmlkZW50aWZpY2F0aW9uLm5hbWUuZmlyc3ROYW1lICsgXCIgXCIgKyByZXEuYm9keS5pZGVudGlmaWNhdGlvbi5uYW1lLmxhc3ROYW1lO1xyXG4gICAgbmV3RW1wbG95ZWUuc2F2ZSgpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24ocmVzdWx0KTtcclxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5lbmQoKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcblxyXG4gIG9uZUVtcGxveWVlKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkdFVCAtIEVNUExPWUVFIElEOiBcIiwgcmVxLnBhcmFtcy5pZCk7XHJcbiAgICBFbXBsb3llZS5maW5kQnlJZChyZXEucGFyYW1zLmlkKS5leGVjKCkudGhlbigoZW1wbG95ZWUpID0+IHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKGVtcGxveWVlKTtcclxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5lbmQoKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcblxyXG4gIGVkaXRFbXBsb3llZShyZXEsIHJlcykge1xyXG4gICAgY29uc29sZS5sb2coXCJFRElUIC0gRU1QTE9ZRUUgSUQ6IFwiLCByZXEucGFyYW1zLmlkKTtcclxuICAgIEVtcGxveWVlLnVwZGF0ZSh7XHJcbiAgICAgIF9pZDogcmVxLnBhcmFtcy5pZFxyXG4gICAgfSwgcmVxLmJvZHkpLnRoZW4oKCkgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmVuZCgpO1xyXG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmVuZCgpO1xyXG4gICAgfSk7XHJcbiAgfSxcclxuXHJcbiAgZGVsZXRlRW1wbG95ZWUocmVxLCByZXMpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiREVMRVRFIC0gRU1QTE9ZRUUgSUQ6IFwiLCByZXEucGFyYW1zLmlkKTtcclxuICAgIEVtcGxveWVlLnJlbW92ZSh7XHJcbiAgICAgIF9pZDogcmVxLnBhcmFtcy5pZFxyXG4gICAgfSwgcmVxLmJvZHkpLnRoZW4oKCkgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmVuZCgpO1xyXG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmVuZCgpO1xyXG4gICAgfSk7XHJcbiAgfSxcclxuXHJcbiAgLy8gYWxsRW1wbG95ZWVzKHJlcSwgcmVzKSB7XHJcbiAgLy8gICBjb25zb2xlLmxvZygnR0VUIC0gQUxMIEVNUExPWUVFUyBFTkRQT0lOVCcpO1xyXG4gIC8vICAgQ29tcGFueVxyXG4gIC8vICAgICAuZmluZE9uZSh7XHJcbiAgLy8gICAgICAgX2lkOiByZXEucGFyYW1zLmNvbXBhbnlpZFxyXG4gIC8vICAgICB9KVxyXG4gIC8vICAgICAucG9wdWxhdGUoJ2VtcGxveWVlcycpXHJcbiAgLy8gICAgIC5leGVjKGZ1bmN0aW9uKGVyciwgY29tcGFueSkge1xyXG4gIC8vICAgICAgIGNvbnNvbGUubG9nKCdDT01QQU5ZIEZPVU5EOicsIGNvbXBhbnkpO1xyXG4gIC8vICAgICAgIEVtcGxveWVlLnBvcHVsYXRlICBcclxuICAvLyAgICAgfVxyXG4gIC8vICAgfVxyXG5cclxuICBhbGxFbXBsb3llZXMocmVxLCByZXMpIHtcclxuICAgIGNvbnNvbGUubG9nKCdHRVQgLSBBTEwgRU1QTE9ZRUVTIEVORFBPSU5UJyk7XHJcbiAgICBcclxuICAgIHZhciBvcHRpb25zID0ge1xyXG4gICAgICBwYXRoOiAnZW1wbG95ZWVzJyxcclxuICAgICAgbW9kZWw6ICdFbXBsb3llZScsXHJcbiAgICAgIHBvcHVsYXRlOiBbe1xyXG4gICAgICAgIHBhdGg6ICdkZXBhcnRtZW50cycsXHJcbiAgICAgICAgbW9kZWw6ICdEZXBhcnRtZW50JyxcclxuICAgICAgICBzZWxlY3Q6ICduYW1lJ1xyXG4gICAgICB9LHtcclxuICAgICAgICBwYXRoOiAncG9zaXRpb25zJyxcclxuICAgICAgICBtb2RlbDogJ1Bvc2l0aW9uJyxcclxuICAgICAgICBzZWxlY3Q6ICduYW1lJ1xyXG4gICAgICB9XVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coJ29wdGlvbnMgZm9yIHBvcHVsYXRlJywgb3B0aW9ucylcclxuICAgIGNvbnNvbGUubG9nKClcclxuICAgIENvbXBhbnlcclxuICAgICAgLmZpbmRPbmUoe1xyXG4gICAgICAgIF9pZDogcmVxLnBhcmFtcy5jb21wYW55aWRcclxuICAgICAgfSlcclxuICAgICAgLnNlbGVjdCgnZW1wbG95ZWVzJylcclxuICAgICAgLnBvcHVsYXRlKG9wdGlvbnMpLmV4ZWMoKS50aGVuKGZ1bmN0aW9uKGNvbXBhbnkpe1xyXG4gICAgICAgIHJlc1xyXG4gICAgICAgICAgLnN0YXR1cygyMDApXHJcbiAgICAgICAgICAuanNvbihjb21wYW55LmVtcGxveWVlcylcclxuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJNT05HT09TRSBFUlJPUiA+Pj5cIiwgZS5tZXNzYWdlKVxyXG4gICAgICAgIHJlc1xyXG4gICAgICAgICAgLnN0YXR1cyg1MDApXHJcbiAgICAgICAgICAuanNvbihlKVxyXG5cclxuICAgICAgfSlcclxuICB9XHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
